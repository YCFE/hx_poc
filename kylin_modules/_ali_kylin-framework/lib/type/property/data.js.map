{"version":3,"sources":["../../../src/type/property/data.js"],"names":["modifier","processor","decorator","propertyKey","prototypeKey","options","beforeCreate","unshift","dataInit","Object","defineProperty","enumerable","configurable","get","$data","set","v","proto","key","data","descriptor","initializer"],"mappings":";;;QAGgBA,Q,GAAAA,Q;QAsBAC,S,GAAAA,S;QAOAC,S,GAAAA,S;AAhCT,IAAMC,oCAAc,MAApB;AACA,IAAMC,sCAAe,QAArB;;AAEA,SAASJ,QAAT,CAAkBK,OAAlB,EAA2B;;AAEhCA,UAAQC,YAAR,GAAuBD,QAAQC,YAAR,IAAwB,EAA/C;AACA,MAAK,OAAOD,QAAQC,YAAf,KAAgC,UAArC,EAAkD;AAChDD,YAAQC,YAAR,GAAuB,CAACD,QAAQC,YAAT,CAAvB;AACD;AACDD,UAAQC,YAAR,CAAqBC,OAArB,CAA6B,SAASC,QAAT,GAAoB;AAC/CC,WAAOC,cAAP,CAAsB,IAAtB,EAA4B,MAA5B,EAAoC;AAClCC,kBAAY,IADsB;AAElCC,oBAAc,KAFoB;AAGlCC,SAHkC,iBAG5B;AAEJ,eAAO,KAAKC,KAAZ;AACD,OANiC;AAOlCC,SAPkC,eAO9BC,CAP8B,EAO3B,CAEN;AATiC,KAApC;AAWD,GAZD;AAcD;;AAEM,SAASf,SAAT,CAAmBgB,KAAnB,EAA0BC,GAA1B,EAA+Bb,OAA/B,EAAwC;AAC7C;;AAEAA,UAAQc,IAAR,GAAeF,MAAM,QAAN,CAAf;AAED;;AAEM,SAASf,SAAT,CAAmBe,KAAnB,EAA0BC,GAA1B,EAA+BE,UAA/B,EAA2C;;AAEhDH,QAAM,QAAN,IAAkBG,WAAWC,WAA7B;AACA,SAAOJ,MAAMC,GAAN,CAAP;AACD","file":"data.js","sourcesContent":["export const propertyKey = 'data';\nexport const prototypeKey = '$$Data';\n\nexport function modifier(options) {\n\n  options.beforeCreate = options.beforeCreate || [];\n  if ( typeof options.beforeCreate === 'function' ) {\n    options.beforeCreate = [options.beforeCreate];\n  }\n  options.beforeCreate.unshift(function dataInit() {\n    Object.defineProperty(this, 'data', {\n      enumerable: true,\n      configurable: false,\n      get() {\n        // beforeCreate阶段 Vue的data还未生成\n        return this.$data;\n      },\n      set(v) {\n        // do nothing\n      }\n    })\n  });\n\n}\n\nexport function processor(proto, key, options) {\n  \"use strict\";\n\n  options.data = proto['$$Data'];\n\n}\n\nexport function decorator(proto, key, descriptor) {\n\n  proto['$$Data'] = descriptor.initializer;\n  delete proto[key];\n}"]}