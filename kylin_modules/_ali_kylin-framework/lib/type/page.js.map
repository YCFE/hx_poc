{"version":3,"sources":["../../src/type/page.js"],"names":["Page","el","_init","optionOrPromise","initOptions","then","option","_initVue","render","_vue","Error"],"mappings":";;;;;AAAA;;;;AACA;;;;;;;;IAGaA,I,WAAAA,I;AAMX,gBAAYC,EAAZ,EAAgB;AAAA;;AACd,SAAKC,KAAL,CAAWD,EAAX;AACD;;iBAODC,K,kBAAMD,E,EAAI;AAAA;;AAER,QAAME,kBAAkB,KAAKC,WAAL,MAAsB,EAA9C;;AAEA,QAAKD,mBAAmB,OAAOA,gBAAgBE,IAAvB,KAAgC,UAAxD,EAAqE;AAEnEF,sBAAgBE,IAAhB,CAAqB,UAACC,MAAD,EAAY;AAC/B,cAAKC,QAAL,CAAcD,MAAd,EAAsBL,EAAtB;AACD,OAFD;AAGD,KALD,MAMK;AAEH,WAAKM,QAAL,CAAcJ,eAAd,EAA+BF,EAA/B;AACD;AACF,G;;iBAQDM,Q,qBAASD,M,EAAQL,E,EAAI;AACnBK,WAAOL,EAAP,GAAYA,EAAZ;AACAK,WAAOE,MAAP,GAAgB,KAAKA,MAArB;;AAEA,SAAKC,IAAL,GAAY,kBAAQH,MAAR,CAAZ;AACD,G;;iBAMDF,W,0BAAc;AACZ,WAAO,EAAP;AACD,G;;iBAKDI,M,qBAAS;AACP,UAAM,IAAIE,KAAJ,CAAU,8DAAV,CAAN;AACD,G","file":"page.js","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\n\n/** 框架页面基础类 */\nexport class Page {\n\n  /**\n   * Page构造器\n   * @param {String|HTMLElement} el 页面挂载节点的选择器或者节点对象\n   */\n  constructor(el) {\n    this._init(el);\n  }\n\n  /**\n   * 初始化Page\n   * @param {String|HTMLElement} el 页面挂载节点的选择器或者节点对象\n   * @private\n   */\n  _init(el) {\n\n    const optionOrPromise = this.initOptions() || {};\n\n    if ( optionOrPromise && typeof optionOrPromise.then === 'function' ) {\n      // 如果返回的是 Promise\n      optionOrPromise.then((option) => {\n        this._initVue(option, el);\n      });\n    }\n    else {\n      // 如果不是Promise\n      this._initVue(optionOrPromise, el);\n    }\n  }\n\n  /**\n   * 初始化Vue根实例\n   * @param {Object} option 合法的VueOptions\n   * @param {String|HTMLElement} el 页面挂载节点的选择器或者节点对象\n   * @private\n   */\n  _initVue(option, el) {\n    option.el = el;\n    option.render = this.render;\n\n    this._vue = new Vue(option);\n  }\n\n  /**\n   * VueOptions默认配置\n   * @return {Object|Promise<Object>} 返回配置项 或者 返回Promise\n   */\n  initOptions() {\n    return {};\n  }\n\n  /**\n   * Vue根实例默认渲染函数\n   */\n  render() {\n    throw new Error('Derived Page Class should have an explicit \"render\" function')\n  }\n}\n"]}