{"version":3,"sources":["../../src/runtime/build.js"],"names":["generateBuildImpl","option","variable","exports","webpackModifyImpl","webpackConfig","Array","isArray","plugins","push","DefinePlugin","exportObject","Object","keys","forEach","k","process","env"],"mappings":";;;;;kBAEwBA,iB;;AAFxB;;;;;;AAEe,SAASA,iBAAT,CAA2BC,MAA3B,EAAmC;AAAA,MAExCC,QAFwC,GAElBD,MAFkB,CAExCC,QAFwC;AAAA,MAE9BC,OAF8B,GAElBF,MAFkB,CAE9BE,OAF8B;;;AAIhD,SAAO,SAASC,iBAAT,CAA2BC,aAA3B,EAA0C;AAG/C,QAAKC,MAAMC,OAAN,CAAcF,cAAcG,OAA5B,CAAL,EAA4C;AAC1C,UAAK,OAAON,QAAP,KAAoB,QAAzB,EAAoC;AAClCG,sBAAcG,OAAd,CAAsBC,IAAtB,CACE,IAAI,kBAAQC,YAAZ,CAAyBR,QAAzB,CADF;AAGD;AACD,UAAK,OAAOC,OAAP,KAAmB,QAAxB,EAAmC;AACjC,YAAMQ,eAAe,EAArB;AACAC,eAAOC,IAAP,CAAYV,OAAZ,EAAqBW,OAArB,CAA6B,UAACC,CAAD,EAAO;AAClCJ,uBAAaI,CAAb,IAAkBC,QAAQC,GAAR,CAAad,QAAQY,CAAR,CAAb,CAAlB;AACD,SAFD;AAGAV,sBAAcG,OAAd,CAAsBC,IAAtB,CACE,IAAI,kBAAQC,YAAZ,CAAyBC,YAAzB,CADF;AAGD;AACF;;AAED,WAAON,aAAP;AACD,GArBD;AAsBD","file":"build.js","sourcesContent":["import webpack from 'webpack';\n\nexport default function generateBuildImpl(option) {\n  \n  const { variable, exports } = option;\n\n  return function webpackModifyImpl(webpackConfig) {\n\n    // 加入 webpack的\n    if ( Array.isArray(webpackConfig.plugins) ) {\n      if ( typeof variable === 'object' ) {\n        webpackConfig.plugins.push(\n          new webpack.DefinePlugin(variable)\n        );\n      }\n      if ( typeof exports === 'object' ) {\n        const exportObject = {};\n        Object.keys(exports).forEach((k) => {\n          exportObject[k] = process.env[ exports[k] ];\n        })\n        webpackConfig.plugins.push(\n          new webpack.DefinePlugin(exportObject)\n        );\n      }\n    }\n\n    return webpackConfig;\n  }\n}"]}